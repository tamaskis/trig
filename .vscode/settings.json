{
    // General settings (https://doc.rust-lang.org/nightly/style-guide/).
    "editor.tabSize": 4,
    "editor.rulers": [100],
    // Autoformatting.
    "[rust]": {
        "editor.defaultFormatter": "rust-lang.rust-analyzer",
        "editor.formatOnSave": true,
    },
    // Linting.
    "rust-analyzer.check.command": "clippy",
    "rust-analyzer.cargo.features": "all",  // Ensures all #[cfg(feature = "...")] blocks are active in analysis.
    "rust-analyzer.check.features": "all",  // Ensures cargo check runs with all features enabled.
}